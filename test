import { Component, ElementRef, Renderer2 } from '@angular/core';

@Component({
  selector: 'app-ag-grid',
  template: `
    <!-- Your ag-Grid setup here -->
  `,
})
export class AgGridComponent {
  constructor(private renderer: Renderer2) {}

  ngAfterViewInit() {
    // Find the sidebar elements and perform actions based on their state
    const valuesSidebar = document.querySelector('[aria-label="Values"]');
    const statusCountElement = document.querySelector('[aria-label="statusCount(Status)"]');
    const cancelIcon = document.querySelector('.ag-icon-cancel');

    if (valuesSidebar && statusCountElement) {
      // The "Values" area has child elements
      // Show "statusTotal" column
      this.showStatusTotalColumn();
    }

    if (cancelIcon && cancelIcon.getAttribute('unselectable') === 'off') {
      // The "unselectable" attribute is off on the cancel icon
      // Hide "statusTotal" column
      this.hideStatusTotalColumn();
    }
  }

  private showStatusTotalColumn() {
    // Perform actions to show "statusTotal" column
    // For example, you can update the column visibility using ag-Grid's API
  }

  private hideStatusTotalColumn() {
    // Perform actions to hide "statusTotal" column
    // For example, you can update the column visibility using ag-Grid's API
  }
}
